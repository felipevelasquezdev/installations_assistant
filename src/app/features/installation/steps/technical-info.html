<!-- src/app/features/installation/steps/technical-info.html -->

<form [formGroup]="form" (ngSubmit)="onSubmit()">

  <!-- Campos para Fibra -->
  @if (isFiber()) {
    <div class="space-y-4">

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">
          Precinto
        </label>
        <input
          type="number"
          inputmode="numeric"
          formControlName="seal"
          placeholder="Ej: 123456"
          min="1"
          class="w-full px-4 py-2.5 rounded-xl border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
        />
        @if (form.controls.seal.invalid && form.controls.seal.touched) {
          <p class="text-red-500 text-xs mt-1">El precinto es obligatorio</p>
        }
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">
          Hilo
        </label>
        <input
          type="number"
          inputmode="numeric"
          formControlName="wire"
          placeholder="Ej: 4"
          min="1"
          class="w-full px-4 py-2.5 rounded-xl border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
        />
        @if (form.controls.wire.invalid && form.controls.wire.touched) {
          <p class="text-red-500 text-xs mt-1">El hilo es obligatorio</p>
        }
      </div>

    </div>
  }

  <!-- Campo para Radio Enlace -->
  @if (!isFiber()) {
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Nodo
      </label>
      <input
        type="text"
        formControlName="node"
        placeholder="Ej: Nodo Centro"
        class="w-full px-4 py-2.5 rounded-xl border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
      />
      @if (form.controls.node.invalid && form.controls.node.touched) {
        <p class="text-red-500 text-xs mt-1">El nodo es obligatorio</p>
      }
    </div>
  }

  <!-- Botones -->
  <div class="flex gap-3 mt-8">
    <button
      type="button"
      (click)="onGoBack()"
      class="w-1/3 py-3 rounded-xl text-sm font-semibold bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors"
    >
      Volver
    </button>
    <button
      type="submit"
      [disabled]="form.invalid"
      class="w-2/3 py-3 rounded-xl text-sm font-semibold transition-colors"
      [class.bg-blue-600]="form.valid"
      [class.text-white]="form.valid"
      [class.hover:bg-blue-700]="form.valid"
      [class.bg-gray-100]="form.invalid"
      [class.text-gray-400]="form.invalid"
      [class.cursor-not-allowed]="form.invalid"
    >
      Continuar
    </button>
  </div>

</form>
